<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
	<script type="text/javascript" src="../js/stats.min.js"></script>
	<script type="text/javascript" src="../js/units.js"></script>
	<script type="text/javascript" src="../js/math.js"></script>
	<script type="text/javascript" src="../js/controls.js"></script>
	<script type="text/javascript" src="../js/map.js"></script>
	<script type="text/javascript" src="../js/minimap.js"></script>
    <script type="text/javascript" src="../js/game.js"></script>
    <style type="text/css">
		#perspectiveCanvas {
			zoom: 2;
		}
    </style>
</head>
<body>
	Ovládání: W - dopředu, S - dozadu, A - úkrok doleva, D - úkrok doprava, Myš - pohled
	<table>
		<tbody>
			<tr>
				<td>View angle (0-90°)</td>
				<td>Lens size (5-20)</td>
				<td>Angle</td>
			</tr>
			<tr>
				<td><input id="viewAngle" 
					onchange="$.perspective.changeViewAngle(this.value)" style="width: 120px;" value="50"></td>
				<td><input id="lensSize"
					onchange="$.perspective.changeLensSize(this.value)" style="width: 120px;" value="15"></td>
				<td><span id="angleSpan" /></td>
			</tr>
		</tbody>
	</table>
	<div style="margin: 10px 0; display: inline-block; cursor: none;">
		<canvas id="perspectiveCanvas" width="450" height="360" style="background: black"></canvas>
	</div>
	<div style="margin: 10px 0; display: inline-block;">
		<canvas id="minimapCanvas" width="700" height="400"></canvas>
	</div>
	<script>
		let ui = {
			canvas: document.getElementById("perspectiveCanvas"),
			minimapCanvas: document.getElementById("minimapCanvas"),
			angleSpan: document.getElementById("angleSpan"),			
		};
		let textures = [];
		textures.push({ src: "../sprites/wall1.jpg", width: 128, height: 128 });
		textures.push({	src: "../sprites/column.png", width: 128, height: 128 });
		textures.push({	src: "../sprites/bookcase.png",	width: 128,	height: 128	});		
		textures.push({ src: "../sprites/wall1_torch.jpg", width: 128, height: 128, frames: 4, delay: 200, shadow: false});
		//textures.push({	src: "../sprites/floor2.png", width: 64, height: 64 });
		textures.push({	src: "../sprites/floor.png", width: 128, height: 128 });
		textures.push({	src: "../sprites/corner.png", width: 128, height: 128 });
		textures.push({	src: "../sprites/grate.png", width: 128, height: 128, frames: 4, delay: 200, shadow: false });
		textures.push({	src: "../sprites/ceiling.png", width: 128, height: 128 });
		textures.push({	src: "../sprites/sky.png", width: 256, height: 200, shadow: false, xShift: 0, delay: 50, sky: true });
		$.raycast.game.init(ui, textures);
	</script>
</body>
</html>